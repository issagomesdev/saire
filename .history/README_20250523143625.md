<h1 align="center" style="font-weight: bold;">ğŸ›ï¸ Prefeitura de SairÃ© â€” Institutional CMS</h1>

![Laravel](https://img.shields.io/badge/laravel-%23FF2D20.svg?style=for-the-badge&logo=laravel&logoColor=white)
![JavaScript](https://img.shields.io/badge/javascript-%23000000.svg?style=for-the-badge&logo=javascript)
![HTML5](https://img.shields.io/badge/html5-%23E34F26.svg?style=for-the-badge&logo=html5&logoColor=white)
![CSS3](https://img.shields.io/badge/css3-%231572B6.svg?style=for-the-badge&logo=css3&logoColor=white)

> ğŸ“ Developed as a freelance project for the Municipality of SairÃ©-PE, used officially for about 6 months in 2021.

<p align="center">
  <a href="#about">About</a> â€¢
  <a href="#features">Features</a> â€¢
  <a href="#structure">Structure</a> â€¢ 
  <a href="#routes">App Routes</a> â€¢ 
  <a href="#models--relationships">Models & Relationships</a> â€¢
  <a href="#started">Getting Started</a>
</p>

<h2 id="about">ğŸ“Œ About</h2>

<p>
This project is a municipal institutional website that includes a **dynamic CMS**, allowing administrators to manage menus, pages, publications, photo galleries, and other informational content through a friendly admin panel. The site is public-facing and was tailored for a local government audience.
</p>

[![project](https://img.shields.io/badge/ğŸ“±Visit_this_project-000?style=for-the-badge&logo=project)](https://byissa.tech/)


<h2 id="features">âœ¨ Features</h2>

### ğŸ§‘â€ğŸ’¼ Public Area

- Dynamic homepage with featured posts and gallery highlights
- News section with full article navigation
- Interactive photo gallery with modal preview and details
- Global search by term (news, galleries, and pages)
- Custom header, footer, and menu

### ğŸ”’ Admin Panel

- Role and permission management (Admin/User)
- User CRUD with filters and export options
- Audit logs for tracking system actions
- Menu and submenu manager (links to internal or external pages)
- Dynamic pages with content editor and image attachment
- Categories for tagging galleries and news
- News publication manager (content, tags, images)
- Gallery manager (photo upload, tags, descriptions)
- Password update and profile management

<h2 id="features">ğŸ—ºï¸ Structure</h2>

```txt
ğŸ“ app/
 â”£ ğŸ“‚ Http/
 â”ƒ â”£ ğŸ“‚ Controllers/
 â”ƒ â”ƒ â”£ SitesController.php            # Public site logic
 â”ƒ â”ƒ â”— ğŸ“‚ Admin/                       # Admin panel controllers
 â”£ ğŸ“‚ Models/
 â”ƒ â”— All models: Page, Menu, Gallery, Publication, User, etc.

ğŸ“ database/
 â”£ ğŸ“‚ migrations/                     # DB tables
 â”£ ğŸ“‚ seeders/                        # Default permissions and admin

ğŸ“ public/
 â”— ğŸ“‚ css/, js/, images/, storage/    # Assets and uploads

ğŸ“ resources/
 â”— ğŸ“‚ views/                          # Blade templates (public/admin)

ğŸ“ routes/
 â”— web.php                            # All defined routes
 ```

 <h2 id="routes">ğŸ“ Application Routes</h2>

 ### ğŸŒ Public

| Method | Path                          | Description                          |
|--------|-------------------------------|--------------------------------------|
| GET    | `/`                           | Homepage                             |
| GET    | `/galeria`                    | Gallery page                         |
| GET    | `/noticias`                   | News/publications list               |
| GET    | `/noticias/{title}`           | Single publication details           |
| GET    | `/pagina/{title}`             | Static content page view             |
| GET    | `/pesquisa`                   | Global search                        |
| GET    | `/pesquisa/publications`      | Fetch search for publications        |
| GET    | `/pesquisa/pages`             | Fetch search for static pages        |
| GET    | `/pesquisa/galleries`         | Fetch search for galleries           |

### Admin (`/admin`)

| Resource      | Description                            |
|---------------|----------------------------------------|
| Permissions   | Manage access control permissions      |
| Roles         | Define user roles and assign permissions |
| Users         | Admin user management                  |
| Publications  | Create, edit, delete news articles     |
| Categories    | Tag management                         |
| Galleries     | Manage photo collections               |
| Menus         | Main navigation structure              |
| Submenus      | Secondary navigation structure         |
| Pages         | Static institutional pages             |
| Audit Logs    | System activity tracking               |

> ğŸ” All admin routes are protected by authentication middleware.

## ğŸ” Authentication Flow

The CMS has a secure admin login system:

- **Login** via `/admin`
- Roles and permissions are enforced using Laravel Gates
- Password changes and profile updates are available under `/profile`
- Audit logs track all changes (create, update, delete)

## ğŸ” Search System

A global search is available via the header bar and next to the logo.

- Searches across **publications**, **pages**, and **galleries**
- Results are displayed in categorized sections
- Pagination is applied to each section
- If no matches found, a friendly message appears:
  > _"Desculpe, mas nÃ£o encontramos resultados para a sua busca. Por favor, tente novamente com palavras diferentes ou revise os termos utilizados."_

## ğŸ“° News / Publications

- Each publication appears as a **card** with image, title, tags, and excerpt
- Clicking â€œLer maisâ€ shows the full article with:
  - Full content
  - Additional images
  - Tags
  - Publication date
  - Navigation to previous/next posts
- In the admin panel, publications can be **marked as featured** via a â­ icon toggle
  - â­ Filled = Featured
  - â­ Outline = Not featured

## ğŸ–¼ï¸ Gallery

- Gallery displays images in a flexible grid layout
- Clicking a photo opens a fullscreen **lightbox**
- Metadata (title, tags, date, description) appears via the top-right menu (â‹®)
- Navigate to next/previous using arrows
- Pagination is supported

## âš™ï¸ Admin Overview

After logging in, the admin dashboard shows a sidebar with:

### 1. **Admin Management**
- **Roles**: Create roles and assign permissions
- **Users**: Create/edit/delete admin users
- **Audit Logs**: View all actions performed (IP, user, time, model, and action)

### 2. **Site Management**

#### ğŸ§­ Navigation
- **Menus**: Link to submenus, pages, or external URLs
- **Submenus**: Attach to a menu, link to internal or external resources
- **Pages**: Static institutional pages with optional media uploads

#### ğŸ·ï¸ Tags (Categories)
- Shared by both **publications** and **galleries**
- Used for organization and filtering

#### ğŸ“° Publications
- Create, edit, and manage news items
- Include rich text and media attachments
- Mark as **featured** to display on homepage

#### ğŸ–¼ï¸ Galleries
- Create visual photo collections
- Each entry can have multiple images and tags

### 3. **Profile**
- Update your name, email, and password securely

## ğŸ“Œ Final Notes

- This project was developed as a custom CMS for a municipal institution in Pernambuco.
- It was maintained for 6 months under a PJ contract and later discontinued by the client.


<h2 id="started">â–¶ï¸ Getting Started</h2>

### Requirements

- PHP >= 8.1
- Laravel >= 10
- Composer
- MySQL or compatible DB

### Installation

```bash
# Clone the project
git clone https://github.com/issagomesdev/saire.git

cd saire

# Install PHP dependencies
composer install

# Copy environment config and generate app key
cp .env.example .env
php artisan key:generate

# Import the database
# Go to the "database/db" folder and import the "base.sql" file into your database.
# Configure your .env variables

# Link media storage
php artisan storage:link

# Serve locally
php artisan serve

# Access /admin with:
# Email: admin@admin.com
# Password: password
```
